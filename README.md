# Gen-711-final
By: Calvin Demers
Background: The data for this project came from a duckweed pond microbiome study by Alyssa Diagle, and comes in the form of paired end, 250 bp, ilumina reads. The goal of this project is to determine the composition of species within the pond microbiome from the given metagenomic sequencing data, generate phylogeny data, and determine alpha and beta diversity. 
Methods: The analysis was performed via a script.sh file through RON on a laptop computer. The first step of the pipeline uses the simple commands mkdir, cd, cp, and wget to create a directory within the home directory, navigate there automatically, move the metadata, and download an RNA classifier to it. The second step uses "qiime tools import" to get the manifest.tsv file containing the demultiplexed data, into the new directory as a .qza file. Next the "qiime demux summarize" tool was used in order to generate a .qzv visual summary of the demultiplexed data. Next, the dada2 denoising step took the demultiplexed sequences and truncated them by 15 base pairs on the left and 0 bp on the right to remove low quality parts of the reads. The outputs of the denoising step are 3 .qza files, the representative sequences, denoising table, and denoising statistics, which will be used as metadata throughout the rest of the pipeline. The next few steps generate visualizations of the denoising outputs. The qiime metadata tabulate tool was used to generate a visualization of the denoising stats and the qiime feature-table summarize tool was used to generate three visualization files for the feature table artifact, which contain informaton on the number of sequences associated with a particular sample, histograms of those sequences, and some related statistics. The next step consists of two commands, feature-table filter-features and feature-table filter-seqs, which use the summarized table generated in the previous step and filters out all the outlying features and sequences that are only observed in a single sample, outputting artifact files. The next step uses the filtered sequences from the previous steps to create a sequence alignment using mafft and to mask any alignments that are phylogenically unhelpful. The outputs of this step are 4 .qza files containing four versions of the inferred phylogenic trees, one masked and rooted in the middle and one masked and unrooted, along with unmasked versions of these trees. The next step uses the RNA classifier which was downloaded in the first step and the sklearn command to classify reads by taxa and output them as an artifact. The next step requires the q2-boots-amplicon conda environment to be activated, the kmer diversity command will then take the filtered table and filtered seqs and resample them until they have a sampling depth of 96 and outputs the average alpha and beta diversity along with visualizations for each. Next the qiime diversity core-metrics-phylogenetic tool was used to take the filtered table and the rooted tree generated before, and applies diversity metrics to output a directory full of various artifacts and visualization files including a rarefied filtered table, distance matrix, evenness plot, and weighted/unweighted unifrac emporer plots. The last three commands have to do with determining group significance. diversity alpha-group signifcance was run on the faith vector artifact and evenness vector artifact in order to output visualization files for significance of faith and evenness. diversity beta-group significance was run on the unweigheted unifrac artifact to generate a visual unifrac chart. Between most steps in the pipeline, an echo command was used to update the user as to what step is currently being run and when the pipeline fully ends. 
